<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>–¢–µ—Å—Ç</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body style="font-family: sans-serif; padding: 20px; text-align: center;">
    <h1>üç¶ –¢–ï–°–¢</h1>

    <button onclick="sendMessage()" style="
        background: #4a6fa5;
        color: white;
        border: none;
        padding: 20px 40px;
        font-size: 24px;
        border-radius: 20px;
        margin: 20px;
        cursor: pointer;
    ">
        üî• –û–¢–ü–†–ê–í–ò–¢–¨
    </button>

    <div id="status" style="margin-top: 20px; padding: 10px; background: #f0f0f0; border-radius: 10px;">
        –°—Ç–∞—Ç—É—Å: –≥–æ—Ç–æ–≤
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        function sendMessage() {
            const status = document.getElementById('status');
            status.innerHTML = 'üì§ –û—Ç–ø—Ä–∞–≤–∫–∞...';
            status.style.background = '#fff3cd';

            console.log('üì§ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º:', 'test');

            tg.sendData(JSON.stringify({
                action: 'test',
                message: '–ü—Ä–∏–≤–µ—Ç –æ—Ç WebApp!'
            }));

            status.innerHTML = '‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!';
            status.style.background = '#d4edda';
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
        tg.onEvent('webAppData', function(event) {
            console.log('üì• –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç:', event.data);
            document.getElementById('status').innerHTML = 'üì• –û—Ç–≤–µ—Ç: ' + event.data;
        });

        console.log('WebApp –∑–∞–≥—Ä—É–∂–µ–Ω');
        document.getElementById('status').innerHTML = '‚úÖ WebApp –≥–æ—Ç–æ–≤';
    </script>
</body>
</html>