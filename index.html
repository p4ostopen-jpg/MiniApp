<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>–¢–µ—Å—Ç –∫–Ω–æ–ø–æ–∫</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h1>üç¶ –¢–µ—Å—Ç –º–∞–≥–∞–∑–∏–Ω–∞</h1>
    <button onclick="testSend()" style="padding: 20px; font-size: 20px;">
        üñ± –ù–ê–ñ–ú–ò –ú–ï–ù–Ø
    </button>
    <div id="status" style="margin-top: 20px;">–°—Ç–∞—Ç—É—Å: –æ–∂–∏–¥–∞–Ω–∏–µ</div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        function testSend() {
            console.log("‚úÖ –ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞!");

            // –ü–†–û–°–¢–ê–Ø –æ—Ç–ø—Ä–∞–≤–∫–∞
            tg.sendData(JSON.stringify({
                action: 'get_products'
            }));

            document.getElementById('status').innerHTML = '‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –°–º–æ—Ç—Ä–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª –±–æ—Ç–∞';
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
        tg.onEvent('webAppData', function(event) {
            console.log("üì• –ü–æ–ª—É—á–µ–Ω–æ:", event.data);
            document.getElementById('status').innerHTML = '‚úÖ –û—Ç–≤–µ—Ç: ' + event.data;
        });
    </script>
</body>
</html>